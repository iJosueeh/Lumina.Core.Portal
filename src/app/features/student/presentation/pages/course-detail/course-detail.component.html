<div class="min-h-screen bg-gray-50 dark:bg-dark-bg">
    <!-- Hero Header -->
    <div class="relative h-64 bg-gradient-to-r from-gray-900 to-gray-800 overflow-hidden">
        <img [src]="course.coverImage" alt="Course cover"
            class="absolute inset-0 w-full h-full object-cover opacity-30">
        <div class="relative h-full flex items-end p-8">
            <div class="flex items-center gap-4 text-white">
                <button class="p-2 hover:bg-white/10 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
                    </svg>
                </button>
                <div>
                    <div class="flex items-center gap-2 mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="w-5 h-5">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5" />
                        </svg>
                        <span class="text-sm">{{ course.semester }}</span>
                    </div>
                    <h1 class="text-3xl font-bold mb-2">{{ course.title }}</h1>
                    <div class="flex items-center gap-3">
                        <img [src]="course.instructor.avatar" alt="Instructor" class="w-8 h-8 rounded-full">
                        <div class="text-sm">
                            <p class="font-semibold">Prof. {{ course.instructor.name }}</p>
                            <p class="text-gray-300">{{ course.instructor.title }}</p>
                        </div>
                        <button
                            class="ml-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-colors">
                            Continuar Lección
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tabs -->
    <div class="border-b border-gray-200 dark:border-dark-border bg-white dark:bg-dark-card">
        <div class="px-8">
            <nav class="flex gap-8">
                <button *ngFor="let tab of tabs" (click)="setTab(tab.id)" [class.border-blue-600]="activeTab === tab.id"
                    [class.text-blue-600]="activeTab === tab.id" [class.border-transparent]="activeTab !== tab.id"
                    [class.text-gray-600]="activeTab !== tab.id"
                    class="py-4 border-b-2 font-medium transition-colors dark:text-dark-text-secondary">
                    {{ tab.label }}
                </button>
            </nav>
        </div>
    </div>

    <!-- Content -->
    <div class="p-8 flex gap-6">
        <!-- Main Content -->
        <div class="flex-1">
            <!-- Content Tab -->
            <div *ngIf="activeTab === 'content'">
                <div class="bg-white dark:bg-dark-card rounded-xl border border-gray-200 dark:border-dark-border p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-gray-900 dark:text-dark-text">Plan de Estudios</h2>
                        <div class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="w-5 h-5 text-gray-400">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                            </svg>
                            <input type="text" placeholder="Filtrar lecciones..."
                                class="px-3 py-1.5 border border-gray-300 dark:border-dark-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-dark-bg dark:text-dark-text">
                        </div>
                    </div>

                    <!-- Modules List -->
                    <div class="space-y-4">
                        <div *ngFor="let module of course.modules"
                            class="border border-gray-200 dark:border-dark-border rounded-lg overflow-hidden">
                            <!-- Module Header -->
                            <button (click)="toggleModule(module)"
                                class="w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-dark-bg transition-colors">
                                <div class="flex items-center gap-3">
                                    <div
                                        class="w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center">
                                        <span class="text-sm font-bold text-blue-600 dark:text-blue-400">{{
                                            module.id.replace('m', '') }}</span>
                                    </div>
                                    <div class="text-left">
                                        <h3 class="font-semibold text-gray-900 dark:text-dark-text">{{ module.title }}
                                        </h3>
                                        <p class="text-sm text-gray-500 dark:text-dark-text-secondary">{{
                                            module.lessons.length }} Lecciones • {{ module.duration }}</p>
                                    </div>
                                </div>
                                <svg [class.rotate-180]="module.isExpanded" xmlns="http://www.w3.org/2000/svg"
                                    fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                                    class="w-5 h-5 text-gray-400 transition-transform">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                                </svg>
                            </button>

                            <!-- Lessons List -->
                            <div *ngIf="module.isExpanded"
                                class="border-t border-gray-200 dark:border-dark-border bg-gray-50 dark:bg-dark-bg">
                                <div *ngFor="let lesson of module.lessons"
                                    class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-dark-border last:border-0 hover:bg-white dark:hover:bg-dark-card transition-colors"
                                    [class.opacity-50]="lesson.isLocked">
                                    <div class="flex items-center gap-3 flex-1">
                                        <!-- Completion Checkbox -->
                                        <div class="w-5 h-5 rounded-full border-2 flex items-center justify-center"
                                            [class.border-green-500]="lesson.isCompleted"
                                            [class.bg-green-500]="lesson.isCompleted"
                                            [class.border-gray-300]="!lesson.isCompleted">
                                            <svg *ngIf="lesson.isCompleted" xmlns="http://www.w3.org/2000/svg"
                                                viewBox="0 0 20 20" fill="currentColor" class="w-3 h-3 text-white">
                                                <path fill-rule="evenodd"
                                                    d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"
                                                    clip-rule="evenodd" />
                                            </svg>
                                        </div>

                                        <!-- Lesson Info -->
                                        <div class="flex-1">
                                            <div class="flex items-center gap-2">
                                                <svg *ngIf="lesson.type === 'video'" xmlns="http://www.w3.org/2000/svg"
                                                    viewBox="0 0 20 20" fill="currentColor"
                                                    class="w-4 h-4 text-gray-500">
                                                    <path
                                                        d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z" />
                                                </svg>
                                                <span class="font-medium text-gray-900 dark:text-dark-text">{{
                                                    lesson.title }}</span>
                                            </div>
                                            <div class="flex items-center gap-2 mt-1">
                                                <span class="text-xs text-gray-500 dark:text-dark-text-secondary">{{
                                                    lesson.type === 'video' ? 'Video' : lesson.type === 'reading' ?
                                                    'Lectura' : 'Quiz' }} • {{ lesson.duration }}</span>
                                                <span *ngIf="lesson.isCompleted"
                                                    class="px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-semibold rounded">Completado</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Action Button -->
                                    <div class="ml-4">
                                        <button *ngIf="!lesson.isLocked" (click)="startLesson(lesson)"
                                            class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-semibold transition-colors">
                                            {{ lesson.isCompleted ? 'Revisar' : 'Continuar' }}
                                        </button>
                                        <span *ngIf="lesson.isLocked"
                                            class="text-sm text-gray-500 dark:text-dark-text-secondary">
                                            {{ lesson.availableIn || 'Bloqueado' }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other Tabs (Placeholder) -->
            <div *ngIf="activeTab !== 'content'"
                class="bg-white dark:bg-dark-card rounded-xl border border-gray-200 dark:border-dark-border p-8 text-center">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="w-16 h-16 mx-auto text-gray-400 mb-4">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" />
                </svg>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-dark-text mb-2">Sección en desarrollo</h3>
                <p class="text-gray-600 dark:text-dark-text-secondary">Esta funcionalidad estará disponible próximamente
                </p>
            </div>
        </div>

        <!-- Sidebar -->
        <aside class="w-80 space-y-6">
            <!-- Progress Card -->
            <div class="bg-white dark:bg-dark-card rounded-xl border border-gray-200 dark:border-dark-border p-6">
                <h3 class="font-bold text-gray-900 dark:text-dark-text mb-4">Progreso General</h3>
                <div class="text-center mb-4">
                    <div class="text-4xl font-bold text-blue-600 dark:text-blue-400">{{ course.progress }}%</div>
                    <p class="text-sm text-gray-600 dark:text-dark-text-secondary mt-1">
                        Has completado {{ course.completedModules }} de {{ course.totalModules }} módulos. ¡Sigue así!
                    </p>
                </div>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
                    <div class="bg-blue-600 h-3 rounded-full transition-all" [style.width.%]="course.progress"></div>
                </div>
            </div>

            <!-- Instructor Card -->
            <div class="bg-white dark:bg-dark-card rounded-xl border border-gray-200 dark:border-dark-border p-6">
                <h3 class="font-bold text-gray-900 dark:text-dark-text mb-4">Instructor</h3>
                <div class="flex items-start gap-3 mb-4">
                    <img [src]="course.instructor.avatar" alt="Instructor" class="w-12 h-12 rounded-full">
                    <div class="flex-1">
                        <h4 class="font-semibold text-gray-900 dark:text-dark-text">{{ course.instructor.name }}</h4>
                        <p class="text-sm text-gray-600 dark:text-dark-text-secondary">{{ course.instructor.title }}</p>
                    </div>
                </div>
                <button
                    class="w-full px-4 py-2 border border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400 rounded-lg font-semibold hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors">
                    Contactar
                </button>
            </div>

            <!-- Upcoming Assignments -->
            <div class="bg-white dark:bg-dark-card rounded-xl border border-gray-200 dark:border-dark-border p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-bold text-gray-900 dark:text-dark-text">Próximas Entregas</h3>
                    <a href="#" class="text-sm text-blue-600 dark:text-blue-400 hover:underline">Ver todo</a>
                </div>
                <div class="space-y-3">
                    <div *ngFor="let assignment of upcomingAssignments"
                        class="p-3 bg-gray-50 dark:bg-dark-bg rounded-lg">
                        <div class="flex gap-3">
                            <div class="text-center">
                                <div class="text-xs font-semibold text-gray-500 dark:text-dark-text-secondary">{{
                                    assignment.mes }}</div>
                                <div class="text-xl font-bold text-gray-900 dark:text-dark-text">{{ assignment.dia }}
                                </div>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="font-semibold text-sm text-gray-900 dark:text-dark-text">{{ assignment.titulo
                                    }}</h4>
                                <p class="text-xs text-gray-600 dark:text-dark-text-secondary mt-1">Pendiente</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Resources -->
            <div class="bg-white dark:bg-dark-card rounded-xl border border-gray-200 dark:border-dark-border p-6">
                <h3 class="font-bold text-gray-900 dark:text-dark-text mb-4">Recursos Rápidos</h3>
                <div class="space-y-2">
                    <button
                        class="w-full flex items-center gap-3 p-3 hover:bg-gray-50 dark:hover:bg-dark-bg rounded-lg transition-colors text-left">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="w-5 h-5 text-gray-600 dark:text-dark-text-secondary">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z" />
                        </svg>
                        <span class="text-sm font-medium text-gray-700 dark:text-dark-text">Archivos del curso</span>
                    </button>
                    <button
                        class="w-full flex items-center gap-3 p-3 hover:bg-gray-50 dark:hover:bg-dark-bg rounded-lg transition-colors text-left">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="w-5 h-5 text-gray-600 dark:text-dark-text-secondary">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155" />
                        </svg>
                        <span class="text-sm font-medium text-gray-700 dark:text-dark-text">Foro de discusión</span>
                    </button>
                    <button
                        class="w-full flex items-center gap-3 p-3 hover:bg-gray-50 dark:hover:bg-dark-bg rounded-lg transition-colors text-left">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="w-5 h-5 text-gray-600 dark:text-dark-text-secondary">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" />
                        </svg>
                        <span class="text-sm font-medium text-gray-700 dark:text-dark-text">Centro de Ayuda</span>
                    </button>
                </div>
            </div>
        </aside>
    </div>
</div>